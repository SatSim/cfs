<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CFS Health and Safety (HS) Application on  User&apos;s Guide: Health and Safety Table Definitions</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="index.html">Health and Safety (HS) User's Guide</a></div>
<h1><a class="anchor" name="cfshstbl">Health and Safety Table Definitions</a></h1><table border="1" cellpadding="2" width="60%" align="CENTER" cellspacing="3">
<tr>
<td width="20%" align="CENTER"><b><a class="el" href="cfshscmds.html">Health and Safety Commands</a></b> </td><td width="20%" align="CENTER"><b><a class="el" href="cfshstlm.html">Health and Safety Telemetry</a></b>  </td><td width="20%" align="CENTER"><b><a class="el" href="cfshscfg.html">Health and Safety Configuration Parameters</a></b> </td></tr>
</table>
<p>
The CFS Health and Safety application utilizes three (if not using Execution Counter Reporting) or four tables.<br>
<p>
<h2>Application Monitor Table (AMT) </h2>
<p>
The AMT is the configuration table for the HS Application Monitor, defining when to take action and what action to take.<br>
<p>
The AMT consists of an array of records numbering <a class="el" href="hs__platform__cfg_8h.html#a25c4e7762fe6482a269f7ad93ed1c19">HS_MAX_CRITICAL_APPS</a> . Each record contains field for: Application Name, Null Terminator, Cycle Count, and Action Type.<br>
<p>
<ul>
<li>
The Application Name should be the name of the application as the system knows it: up to OS_MAX_API_NAME in length. </li>
<li>
The Null Terminator must be 0: this exists as quick method making sure that the strings in the table are no longer than the maximum length. </li>
<li>
The Cycle Count is the number of HS cycles that the named application's execution counter must not be incremented before the defined action is taken. </li>
<li>
The Action Type is the action to take: <ul>
<li>
<a class="el" href="hs__tbldefs_8h.html#19f6402d2365c963a18c888135bfbb59">HS_AMT_ACT_NOACT</a> for a disabled entry. </li>
<li>
<a class="el" href="hs__tbldefs_8h.html#536934ad1396db03db8ac61b2d3185b1">HS_AMT_ACT_PROC_RESET</a> for an entry that causes a processor reset. </li>
<li>
<a class="el" href="hs__tbldefs_8h.html#69b2c2c1b2064c52a52233e5b17cb558">HS_AMT_ACT_APP_RESTART</a> for an entry that restarts the named application. </li>
<li>
<a class="el" href="hs__tbldefs_8h.html#f8bc320195bd20ccc5225adf86946b78">HS_AMT_ACT_EVENT</a> for an entry that only generates an event message. </li>
<li>
HS_AMT_ACT_MSG(num) for an entry that generates a message action, where 'num' is the index into the Message Actions Table. </li>
</ul>
</li>
</ul>
<p>
While there is no valid AMT loaded, the HS Application Monitor will be disabled (it will be disabled again if an attempt to enable it is made).<br>
<p>
<h2>Event Monitor Table (EMT) </h2>
<p>
The EMT is the configuration table for the HS Event Monitor, defining when to take action and what action to take.<br>
<p>
The EMT consists of an array of records numbering <a class="el" href="hs__platform__cfg_8h.html#0648557297c61eb1fbc5986fca861e0d">HS_MAX_CRITICAL_EVENTS</a> . Each record contains field for: Application Name, Null Terminator, Event ID, and Action Type.<br>
<p>
<ul>
<li>
The Application Name should be the name of the application as the system knows it: up to OS_MAX_API_NAME in length. </li>
<li>
The Null Terminator must be 0: this exists as quick method making sure that the strings in the table are no longer than the maximum length. </li>
<li>
The Event ID is the number of the event being monitored for. </li>
<li>
The Action Type is the action to take: <ul>
<li>
<a class="el" href="hs__tbldefs_8h.html#6f3108c4285dfdb15238b9f5901222fe">HS_EMT_ACT_NOACT</a> for a disabled entry. </li>
<li>
<a class="el" href="hs__tbldefs_8h.html#2bfe3462c808940edc27febdffe7cccf">HS_EMT_ACT_PROC_RESET</a> for an entry that causes a processor reset. </li>
<li>
<a class="el" href="hs__tbldefs_8h.html#528b7b2c8242f89803e7dd33fd2da748">HS_EMT_ACT_APP_RESTART</a> for an entry that restarts the named application. </li>
<li>
<a class="el" href="hs__tbldefs_8h.html#8d2697c306686884f7d75143daf0ed1f">HS_EMT_ACT_APP_DELETE</a> for an entry that deletes the named application. </li>
<li>
HS_EMT_ACT_MSG(num) for an entry that generates a message action, where 'num' is the index into the Message Actions Table. </li>
</ul>
</li>
</ul>
While there is no valid EMT loaded, the HS Event Monitor will be disabled (it will be disabled again if an attempt to enable it is made).<br>
<p>
<h2>Message Actions Table (MAT) </h2>
<p>
The MAT stores the messages sent by the HS Application Monitor or HS Event Monitor Message Action Type.<br>
<p>
The MAT consists of an array of records numbering <a class="el" href="hs__platform__cfg_8h.html#cec142a05a8eeaaa7de5b40a845bfb9a">HS_MAX_MSG_ACT_TYPES</a> . Each record contains field for: Enable State, Cooldown, and Message.<br>
<p>
<ul>
<li>
The Cooldown value determines how many cycles must be waited before a message can be sent again; a value of 0 means the message can be sent multiple times in one cycle, a value of 1 means the message can only be sent once per cycle, a value of 2 means the message could only be sent every other cycle, etc. </li>
<li>
The Message is an array of bytes of length <a class="el" href="hs__platform__cfg_8h.html#00fa7bc1e191b55d7d531fb77ccfcc26">HS_MAX_MSG_ACT_SIZE</a> which contains the message to be sent. Keep byte-swapping issues in mind when populating this field. </li>
<li>
The Enable State determines whether the message action in that record can be sent: <ul>
<li>
<a class="el" href="hs__tbldefs_8h.html#8dd48281fe12c764c631f0641f744cd7">HS_MAT_STATE_DISABLED</a> for a disabled entry. </li>
<li>
<a class="el" href="hs__tbldefs_8h.html#547398ef3d5660f0bcb6fe31737ffa05">HS_MAT_STATE_ENABLED</a> for an enabled entry which will generate an event when sent. </li>
<li>
<a class="el" href="hs__tbldefs_8h.html#0c9cd22ff44821c430074a3a21234821">HS_MAT_STATE_NOEVENT</a> for an enabled entry which will not generate an event when sent. </li>
</ul>
</li>
</ul>
<p>
While there is no valid MAT loaded, no Message Actions will be sent.<br>
<p>
<h2>Execution Counter Table (XCT) </h2>
<p>
The EMT is the configuration table for the HS Execution Counter reporting, defining which counters are reported in telemetry.<br>
<p>
The XCT consists of an array of records numbering <a class="el" href="hs__platform__cfg_8h.html#f18e1bed2f69b71da2ca157877c950a4">HS_MAX_EXEC_CNT_SLOTS</a>. This table only exists if HS_MAX_EXEC_CNT_SLOTS is not equal to 0. Each record contains field for: Resource Name, Null Terminator, and Resource Type.<br>
 <ul>
<li>
The Resource Name should be the name of the application or child task as the system knows it: up to OS_MAX_API_NAME in length. </li>
<li>
The Null Terminator must be 0: this exists as quick method making sure that the strings in the table are no longer than the maximum length. </li>
<li>
The Resource Type is the type of resource being monitored: <ul>
<li>
<a class="el" href="hs__tbldefs_8h.html#85f3a4c80a06f47436819228128de8c4">HS_XCT_TYPE_NOTYPE</a> for a disabled entry. </li>
<li>
<a class="el" href="hs__tbldefs_8h.html#d1fcefa9f03134a71ccbb24bb0e1aff6">HS_XCT_TYPE_APP_MAIN</a> for an Application Main Task. </li>
<li>
<a class="el" href="hs__tbldefs_8h.html#6ac0daac9754c01fc19da370b8c25e12">HS_XCT_TYPE_APP_CHILD</a> for a Child Task. </li>
<li>
<a class="el" href="hs__tbldefs_8h.html#0c40852bc0ff69b03b0aba43717e4ad1">HS_XCT_TYPE_ISR</a> for an ISR counter. </li>
<li>
<a class="el" href="hs__tbldefs_8h.html#303e8eef14c489b3d2e94051cf2381a8">HS_XCT_TYPE_DEVICE</a> for a Device Driver counter. </li>
</ul>
</li>
</ul>
<p>
While there is no valid XCT loaded, all Execution Counters in telemetry will be reported as invalid (0xFFFFFFFF). <hr size="1"><address style="align: right;"><small>Generated on Tue Mar 3 12:58:37 2015 for CFS Health and Safety (HS) Application on  User's Guide by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
